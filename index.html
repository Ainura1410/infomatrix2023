#define  REMOTEXY_MODE__ESP8266WIFI_LIB_POINT
#include <ESP8266WiFi.h>
#include <RemoteXY.h>
struct _sVFUPD
{
    int mode=0;
    int port=0;
    int index=0;
    String data="";
}
;
_sVFUPD _sVFUPDPort0;
extern "C" 
{
    #include "user_interface.h"
}
#define REMOTEXY_WIFI_SSID ""
#define REMOTEXY_WIFI_PASSWORD ""
#define REMOTEXY_SERVER_PORT 6377
#pragma pack(push, 1)
uint8_t RemoteXY_CONF[] = {255, 19, 0, 44, 0, 135, 1, 16, 31, 0, 129, 0, 4, 4, 18, 3, 36, 83, 99, 104, 111, 111, 108, 32, 84, 101, 109, 112, 0, 67, 4, 4, 8, 20, 5, 2, 26, 11, 129, 0, 4, 15, 17, 3, 178, 83, 99, 104, 111, 111, 108, 32, 72, 117, 109, 0, 67, 4, 4, 20, 20, 5, 2, 26, 11, 129, 0, 30, 4, 26, 3, 233, 71, 114, 101, 101, 110, 72, 111, 117, 115, 101, 32, 84, 101, 109, 112, 0, 129, 0, 30, 15, 25, 3, 204, 71, 114, 101, 101, 110, 72, 111, 117, 115, 101, 32, 72, 117, 109, 0, 67, 4, 33, 8, 20, 5, 2, 26, 11, 67, 4, 33, 20, 20, 5, 2, 26, 11, 10, 48, 49, 46, 15, 15, 4, 26, 31, 79, 78, 0, 31, 79, 70, 70, 0, 2, 0, 7, 31, 19, 9, 2, 26, 31, 31, 79, 78, 0, 79, 70, 70, 0, 2, 0, 37, 31, 19, 9, 2, 26, 31, 31, 79, 78, 0, 79, 70, 70, 0, 10, 48, 71, 46, 15, 15, 4, 26, 31, 79, 78, 0, 31, 79, 70, 70, 0, 10, 48, 6, 46, 15, 15, 4, 26, 31, 79, 78, 0, 31, 79, 70, 70, 0, 4, 0, 90, 7, 8, 54, 2, 26, 10, 48, 27, 46, 15, 15, 4, 26, 31, 79, 78, 0, 31, 79, 70, 70, 0, 7, 36, 66, 12, 20, 5, 2, 26, 2, 11, 129, 0, 11, 27, 11, 3, 17, 49, 115, 116, 32, 102, 108, 111, 111, 114, 0, 129, 0, 40, 27, 12, 3, 17, 50, 110, 100, 32, 102, 108, 111, 111, 114, 0, 129, 0, 10, 42, 7, 3, 149, 68, 111, 111, 114, 0, 129, 0, 30, 42, 9, 3, 149, 66, 97, 114, 114, 105, 101, 114, 0, 129, 0, 49, 42, 13, 3, 149, 83, 104, 97, 110, 121, 114, 97, 113, 0, 129, 0, 71, 42, 15, 3, 149, 76, 97, 98, 111, 114, 97, 116, 111, 114, 121, 0, 129, 0, 70, 7, 10, 4, 24, 84, 114, 97, 99, 107, 0, 129, 0, 90, 2, 5, 4, 94, 86, 111, 108, 0, 2, 0, 66, 31, 20, 9, 2, 26, 31, 31, 79, 78, 0, 79, 70, 70, 0, 129, 0, 70, 26, 11, 4, 163, 83, 116, 114, 101, 101, 116, 0};
struct 
{
    unsigned char Shanuraq;
    unsigned char floor1;
    unsigned char floor2;
    unsigned char Laboratory;
    unsigned char Door;
    signed char Vol;
    unsigned char Barrier;
    char Track[11];
    unsigned char Street;
    char ST[11];
    char SH[11];
    char GHT[11];
    char GHH[11];
    unsigned char connect_flag;
}
 RemoteXY;
#pragma pack(pop)
int _SV4CP0 = 0;
bool _SV4CP0needSend = 0;
bool _SV1CP0 = 0;
bool _SV1CP0needSend = 0;
String _SV6CP0 = "0";
bool _SV6CP0needSend = 0;
bool _SV3CP0 = 0;
bool _SV3CP0needSend = 0;
bool _SV5CP0 = 0;
bool _SV5CP0needSend = 0;
bool _SV2CP0 = 0;
bool _SV2CP0needSend = 0;
bool _SV8CP0 = 0;
bool _SV8CP0needSend = 0;
String _RV1CP0 = "0";
String _RV2CP0 = "0";
String _RV3CP0 = "0";
String _RV4CP0 = "0";
bool _SV9CP0 = 0;
bool _SV9CP0needSend = 0;
bool _SV7CP0 = 0;
bool _SV7CP0needSend = 0;
void setup()
{
    RemoteXY_Init ();
    _startUart0();
    _sVFUPDPort0.port = 0;
}
void loop()
{
    RemoteXY_Handler  ();
    if (Serial.available()) 
    {
         _readByteFromUART((Serial.read()),0);
    }
    //Плата:1
    (_RV1CP0).toCharArray((RemoteXY.ST), 11);
    (_RV2CP0).toCharArray((RemoteXY.SH), 11);
    (_RV3CP0).toCharArray((RemoteXY.GHT), 11);
    (_RV4CP0).toCharArray((RemoteXY.GHH), 11);
    if(!(((RemoteXY.Street))==(_SV9CP0)))
    {
        _SV9CP0needSend = 1;
    }
     _SV9CP0 = (RemoteXY.Street);
    if(!(((RemoteXY.floor2))==(_SV8CP0)))
    {
        _SV8CP0needSend = 1;
    }
     _SV8CP0 = (RemoteXY.floor2);
    if(!(((RemoteXY.floor1))==(_SV7CP0)))
    {
        _SV7CP0needSend = 1;
    }
     _SV7CP0 = (RemoteXY.floor1);
    if(!(((String(RemoteXY.Track)))==(_SV6CP0)))
    {
        _SV6CP0needSend = 1;
    }
     _SV6CP0 = (String(RemoteXY.Track));
    if(!(((RemoteXY.Barrier))==(_SV5CP0)))
    {
        _SV5CP0needSend = 1;
    }
     _SV5CP0 = (RemoteXY.Barrier);
    if(!(((RemoteXY.Vol))==(_SV4CP0)))
    {
        _SV4CP0needSend = 1;
    }
     _SV4CP0 = (RemoteXY.Vol);
    if(!(((RemoteXY.Door))==(_SV3CP0)))
    {
        _SV3CP0needSend = 1;
    }
     _SV3CP0 = (RemoteXY.Door);
    if(!(((RemoteXY.Laboratory))==(_SV2CP0)))
    {
        _SV2CP0needSend = 1;
    }
     _SV2CP0 = (RemoteXY.Laboratory);
    if(!(((RemoteXY.Shanuraq))==(_SV1CP0)))
    {
        _SV1CP0needSend = 1;
    }
     _SV1CP0 = (RemoteXY.Shanuraq);
    if(_SV1CP0needSend) 
    {
        _SV1CP0needSend = 0;
        Serial.write (1);
        Serial.print (1);
        Serial.write (2);
        Serial.print (_SV1CP0);
        Serial.write (3);
    }
    if(_SV2CP0needSend) 
    {
        _SV2CP0needSend = 0;
        Serial.write (1);
        Serial.print (2);
        Serial.write (2);
        Serial.print (_SV2CP0);
        Serial.write (3);
    }
    if(_SV3CP0needSend) 
    {
        _SV3CP0needSend = 0;
        Serial.write (1);
        Serial.print (3);
        Serial.write (2);
        Serial.print (_SV3CP0);
        Serial.write (3);
    }
    if(_SV4CP0needSend) 
    {
        _SV4CP0needSend = 0;
        Serial.write (1);
        Serial.print (4);
        Serial.write (2);
        Serial.print (_SV4CP0);
        Serial.write (3);
    }
    if(_SV5CP0needSend) 
    {
        _SV5CP0needSend = 0;
        Serial.write (1);
        Serial.print (5);
        Serial.write (2);
        Serial.print (_SV5CP0);
        Serial.write (3);
    }
    if(_SV6CP0needSend) 
    {
        _SV6CP0needSend = 0;
        Serial.write (1);
        Serial.print (6);
        Serial.write (2);
        Serial.print (_SV6CP0);
        Serial.write (3);
    }
    if(_SV7CP0needSend) 
    {
        _SV7CP0needSend = 0;
        Serial.write (1);
        Serial.print (7);
        Serial.write (2);
        Serial.print (_SV7CP0);
        Serial.write (3);
    }
    if(_SV8CP0needSend) 
    {
        _SV8CP0needSend = 0;
        Serial.write (1);
        Serial.print (8);
        Serial.write (2);
        Serial.print (_SV8CP0);
        Serial.write (3);
    }
    if(_SV9CP0needSend) 
    {
        _SV9CP0needSend = 0;
        Serial.write (1);
        Serial.print (9);
        Serial.write (2);
        Serial.print (_SV9CP0);
        Serial.write (3);
    }
}
bool _isTimer(unsigned long startTime, unsigned long period)
{
    unsigned long currentTime;
    currentTime = millis();
    if (currentTime>= startTime) 
    {
        return (currentTime>=(startTime + period));
    }
     else 
    {
        return (currentTime >=(4294967295-startTime+period));
    }
}
void _readByteFromUART(byte data,int port)
{
    if (port==0)
    {
         _sVFUPDPort0 = _ressiveByteFromUartForVariable(data, _sVFUPDPort0);
    }
}
struct  _sVFUPD _ressiveByteFromUartForVariable(byte resData, struct _sVFUPD data)
{
    if(_ressiveFromUartByteIsCommand(resData))
    {
        data = _nextStepRessiveVariableFromUart(resData, data);
        return data;
    }
    data.data = data.data + char(resData);
    return data;
}
bool _ressiveFromUartByteIsCommand(byte data)
{
    if(data==1)
    {
        return 1;
    }
    if(data==2)
    {
        return 1;
    }
    if(data==3)
    {
        return 1;
    }
    return 0;
}
struct  _sVFUPD _nextStepRessiveVariableFromUart(byte resData, struct _sVFUPD data)
{
    if((resData==1)&&(data.mode==0))
    {
        data.mode=1;
        return data;
    }
    if((resData==2)&&(data.mode==1))
    {
        data.mode=2;
        data.index=data.data.toInt();
        data.data=String("");
        return data;
    }
    if((resData==3)&&(data.mode==2))
    {
        data=_saveToVariableResiveFromUartVariable(data);
        return data;
    }
    data.mode=0;
    data.data=String("");
    return data;
}
struct _sVFUPD _saveToVariableResiveFromUartVariable(struct _sVFUPD data)
{
    if((data.index==1)&&(data.port==0))
    {
        _RV1CP0 = data.data;
    }
    if((data.index==2)&&(data.port==0))
    {
        _RV2CP0 = data.data;
    }
    if((data.index==3)&&(data.port==0))
    {
        _RV3CP0 = data.data;
    }
    if((data.index==4)&&(data.port==0))
    {
        _RV4CP0 = data.data;
    }
    data.mode=0;
    data.data=String("");
    return data;
}
void _startUart0()
{
    int code= 6;
    Serial.begin(9600, (_serialModeFromInt(code)));
}
SerialConfig  _serialModeFromInt(int code)
{
    switch (code) 
    {
        case 0x00: return SERIAL_5N1;
        break;
        case 0x02: return SERIAL_6N1;
        break;
        case 0x04: return SERIAL_7N1;
        break;
        case 0x06: return SERIAL_8N1;
        break;
        case 0x08: return SERIAL_5N2;
        break;
        case 0x0A: return SERIAL_6N2;
        break;
        case 0x0C: return SERIAL_7N2 ;
        break;
        case 0x0E: return SERIAL_8N2;
        break;
        case 0x20: return SERIAL_5E1;
        break;
        case 0x22: return SERIAL_6E1;
        break;
        case 0x24: return SERIAL_7E1 ;
        break;
        case 0x26: return SERIAL_8E1;
        break;
        case 0x28: return SERIAL_5E2 ;
        break;
        case 0x2A: return SERIAL_6E2;
        break;
        case 0x2C: return SERIAL_7E2;
        break;
        case 0x2E: return SERIAL_8E2;
        break;
        case 0x30: return SERIAL_5O1;
        break;
        case 0x32: return SERIAL_6O1;
        break;
        case 0x34: return SERIAL_7O1;
        break;
        case 0x36: return SERIAL_8O1;
        break;
        case 0x38: return SERIAL_5O2;
        break;
        case 0x3A: return SERIAL_6O2 ;
        break;
        case 0x3C: return SERIAL_7O2;
        break;
        case 0x3E: return SERIAL_8O2;
        break;
    }
    return SERIAL_8N1;
}